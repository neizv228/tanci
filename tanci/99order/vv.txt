CREATE DATABASE [RT]
GO
USE [RT]
GO
CREATE TABLE [Role]
(
	RoleID INT PRIMARY KEY IDENTITY NOT NULL,
	RoleName NVARCHAR(100) NOT NULL
)
GO
CREATE TABLE [User]
(
	UserID INT PRIMARY KEY IDENTITY NOT NULL,
	UserSurname NVARCHAR(150) NOT NULL,
	UserName NVARCHAR(150) NOT NULL,
	UserPatronymic NVARCHAR(150) NOT NULL,
	UserLogin NVARCHAR(MAX) NOT NULL,
	UserPassword NVARCHAR(MAX) NOT NULL,
	UserRole INT FOREIGN KEY REFERENCES [Role](RoleID) NOT NULL
)
go
CREATE TABLE [Manufacturers]
(
	ManufacturerID INT PRIMARY KEY IDENTITY NOT NULL,
	ManufacturerName NVARCHAR(150) NOT NULL 
)
go
CREATE TABLE [Masters]
(
	MasterID INT PRIMARY KEY IDENTITY NOT NULL,
	MasterName NVARCHAR(150) NOT NULL 
)
go
CREATE TABLE [Tovar]
(
	TovarID INT PRIMARY KEY IDENTITY NOT NULL,
	TovarName NVARCHAR(100) NOT NULL,
	TovarDescription NVARCHAR(200) NOT NULL,	
	TovarMaster INT FOREIGN KEY REFERENCES [Masters](MasterID) NOT NULL,
	TovarCost DECIMAL(19,2) NOT NULL,
	TovarManufacturer INT FOREIGN KEY REFERENCES [Manufacturers](ManufacturerID) NOT NULL,
	TovarDiscountAmount DECIMAL(19,2) NOT NULL,
	TovarPhoto NVARCHAR(MAX) NOT NULL,
)